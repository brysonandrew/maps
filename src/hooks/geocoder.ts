import maplibregl from "maplibre-gl";
import MaplibreGeocoder, {
  CarmenGeojsonFeature,
  MaplibreGeocoderApi,
  MaplibreGeocoderFeatureResults,
  MaplibreGeocoderSuggestionResults,
} from "@maplibre/maplibre-gl-geocoder";
import "@maplibre/maplibre-gl-geocoder/dist/maplibre-gl-geocoder.css";
type TSuggestion = {
  text: string;
  placeId?: string;
};
export const useGeocoder = () => {
  // Functions should return Carmen GeoJSON, see the relevant type in this project
  // View config definitions in our [documentation](https://www.maplibre.org/maplibre-gl-geocoder/)
  const Geo: MaplibreGeocoderApi = {
    // required
    forwardGeocode: async (config) => {
      console.log(
        "â–â–â–â–â–‚â–‚â–‚â–‚â–ƒâ–ƒâ–ƒâ–ƒâ–„â–„â–„â–…â–…â–…â–…â–†â–†â–†â–†â–‡â–‡â–‡â–‡â–ˆâ–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’â–“â–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’â–“â–ˆâ–ˆâ–‡â–‡â–‡â–‡â–†â–†â–†â–†â–…â–…â–…â–…â–„â–„â–„â–ƒâ–ƒâ–ƒâ–ƒâ–‚â–‚â–‚â–‚â–â–â–â–"
      );
      console.dir(config);
      console.log(
        "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’ line: 14, file: geocoder.ts â–“â–’â–‘ ğŸ§¨ â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"
      );
      const features: CarmenGeojsonFeature[] = [];
      const feature: MaplibreGeocoderFeatureResults = {
        type: "FeatureCollection",
        features,
      };
      return feature;
    },
    // optional
    reverseGeocode: async (config) => {
      console.log(
        "â–â–â–â–â–‚â–‚â–‚â–‚â–ƒâ–ƒâ–ƒâ–ƒâ–„â–„â–„â–…â–…â–…â–…â–†â–†â–†â–†â–‡â–‡â–‡â–‡â–ˆâ–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’â–“â–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’â–“â–ˆâ–ˆâ–‡â–‡â–‡â–‡â–†â–†â–†â–†â–…â–…â–…â–…â–„â–„â–„â–ƒâ–ƒâ–ƒâ–ƒâ–‚â–‚â–‚â–‚â–â–â–â–"
      );
      console.dir(config);
      console.log(
        "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’ line: 28, file: geocoder.ts â–“â–’â–‘ ğŸ§¨ â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"
      );
      const features: CarmenGeojsonFeature[] = [];
      const feature: MaplibreGeocoderFeatureResults = {
        type: "FeatureCollection",
        features,
      };
      return feature;
    }, // reverse geocoding API
    getSuggestions: async (config) => {
      console.log(
        "â–â–â–â–â–‚â–‚â–‚â–‚â–ƒâ–ƒâ–ƒâ–ƒâ–„â–„â–„â–…â–…â–…â–…â–†â–†â–†â–†â–‡â–‡â–‡â–‡â–ˆâ–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’â–“â–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’â–“â–ˆâ–ˆâ–‡â–‡â–‡â–‡â–†â–†â–†â–†â–…â–…â–…â–…â–„â–„â–„â–ƒâ–ƒâ–ƒâ–ƒâ–‚â–‚â–‚â–‚â–â–â–â–"
      );
      console.dir(config);
      console.log(
        "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’ line: 44, file: geocoder.ts â–“â–’â–‘ ğŸ§¨ â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"
      );
      const suggestions: TSuggestion[] = [];
      const result: MaplibreGeocoderSuggestionResults = {
        suggestions,
      };
      return result;
    }, // suggestion API
    // searchByPlaceId: console.log // search by Place ID API

    // // required
    // forwardGeocode: async (config) => { /* definition here */ },

    // // optional
    // reverseGeocode: async (config) => { /* definition here */ }, // reverse geocoding API
    // getSuggestions: async (config) => { /* definition here */ }, // suggestion API
    // searchByPlaceId: async (config) => { /* definition here */ } // search by Place ID API
  };

  // Pass in or define a geocoding API that matches the above
  const geocoder = new MaplibreGeocoder(Geo, { maplibregl: maplibregl });
  console.log(
    "â–â–â–â–â–‚â–‚â–‚â–‚â–ƒâ–ƒâ–ƒâ–ƒâ–„â–„â–„â–…â–…â–…â–…â–†â–†â–†â–†â–‡â–‡â–‡â–‡â–ˆâ–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’â–“â–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’â–“â–ˆâ–ˆâ–‡â–‡â–‡â–‡â–†â–†â–†â–†â–…â–…â–…â–…â–„â–„â–„â–ƒâ–ƒâ–ƒâ–ƒâ–‚â–‚â–‚â–‚â–â–â–â–"
  );
  console.dir(geocoder);
  console.log(
    "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–’â–‘ ğŸ§¨ â–‘â–’ line: 75, file: geocoder.ts â–“â–’â–‘ ğŸ§¨ â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"
  );
  // map.addControl(geocoder);
};
